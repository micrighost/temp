# 三線反轉策略

## 簡介
三線反轉策略是一個基於三根K線反轉模式的自動交易策略。該策略假設當第一根K線和第二根K線持續下跌，第三根K線拉起來時，市場可能會出現多頭反轉。策略會在確認反轉後進行交易，並設置相應的停損和停利。

## 版本
- **版本**: 1.00

## 安裝步驟
1. 將 `三線反轉策略.mq5` 文件放入 MetaTrader 5 的 `Experts` 目錄中。
2. 打開 MetaTrader 5，並在導航欄中找到「專家顧問」。
3. 右鍵點擊「專家顧問」，選擇「重新加載」以加載新的策略。
4. 將策略拖放到圖表上，並根據需要進行設置。

## 使用說明
- **參數設置**:
  - **Lot**: 交易手數，默認為 `0.01`。

- **策略邏輯**:
  - 當第一根K線的低點高於第二根K線的低點，且第二根K線的高點低於第三根K線的高點時，確認多頭反轉。
  - 當第一根K線的高點低於第二根K線的高點，且第二根K線的低點高於第三根K線的低點時，確認空頭反轉。
  - 在確認反轉後，根據當前價格進行買入或賣出操作，並設置停損和停利。

## 函式說明
- `OnInit()`: 初始化函式，EA啟動時執行，設置指標和參數。
- `OnDeinit(int reason)`: 程式結束函式，EA停用時執行。
- `OnTick()`: 主執行函式，每次收到新Tick觸發計算，檢查價格行為並執行交易。
- `GetBarPrice(int index, double &open, double &high, double &low, double &close)`: 獲取指定K棒的開盤價、高價、低價和收盤價。
- `HasPosition()`: 檢查是否已有持倉。
- `IsNewBar()`:判斷是否新K棒生成 (用時間判斷)。
- `BodyLength()`:計算K棒實體長度函數（收盤價 - 開盤價 的絕對值）

